---
theme: elysia
mdc: true
highlighter: shiki
layout: cover
addons:
  - slidev-addon-qrcode
twoslash: build
export:
  timeout: 60000
  format: pdf
  dark: true
---

<div class="h-full flex flex-col justify-between">

<h1 class="w-2xl">–ü–æ–∑–Ω–∞—ë–º Elysia –∏ Bun ‚Äî —Ñ—Ä–µ–π–º–≤–æ—Ä–∫, —Å–¥–µ–ª–∞–Ω–Ω—ã–π –¥–ª—è –ª—é–¥–µ–π</h1>

<div class="flex items-center justify-between">

<div class="flex flex-col gap-0 pt-25 text-xl">
    <span class="font-bold">–í—Å–µ–≤–æ–ª–æ–¥ –î–µ—Ç–∫–∏–Ω</span>
    <span>–ë–µ–∫–µ–Ω–¥ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫, –≠–ª–∏—Ç—Ä–∏—É–º</span>
</div>

<img class="-mr-25" width="500px" src="/fox.webp" />

</div>

</div>

<!--
–í—Å–µ–º –ø—Ä–∏–≤–µ—Ç! –ú–µ–Ω—è –∑–æ–≤—É—Ç –í—Å–µ–≤–æ–ª–æ–¥ –î–µ—Ç–∫–∏–Ω –∏ —è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é –∫–æ–º–ø–∞–Ω–∏—é ¬´–≠–ª–∏—Ç—Ä–∏—É–º¬ª. –í —Å–µ–≥–æ–¥–Ω—è—à–Ω–µ–º –¥–æ–∫–ª–∞–¥–µ —è –±—ã —Ö–æ—Ç–µ–ª —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å –æ –º–∏—Ä–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏ –ø–æ–∫–∞–∑–∞—Ç—å —Ç–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø–∞–ª –º–Ω–µ –≤ –¥—É—à—É. (–î–æ–ø–æ–ª–Ω–∏—Ç—å/–ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å)
-->

---
layout: default
title: –û–±–æ –º–Ω–µ
---
<div class="flex justify-between">
<div class="flex flex-col flex-items-center w-full p-5">
    <h1 class="text-xl flex-self-start">–û–±–æ –º–Ω–µ</h1>
    <ul class="flex-self-start">
        <li>WIP</li>
        <!-- <li>–£—á—É—Å—å –º–±</li>
        <li>–ü–æ–±–µ–¥–∏—Ç–µ–ª—å —Ö–∞–∫–∞—Ç–æ–Ω–æ–≤...</li>
        <li>–õ—é–±–∏—Ç–µ–ª—å –Ω–æ–≤—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π</li>
        <li>–õ—é–±–∏—Ç–µ–ª—å –ø–µ—Ä–µ–∫–ª–∞–¥—ã–≤–∞—Ç—å –∂—Å–æ–Ω—ã</li>
        <li>–ü—Ä–æ–µ–∫—Ç—ã</li>
        <li>–õ—é–±–ª—é —Ö–æ–¥–∏—Ç—å –Ω–∞ –º–∏—Ç–∞–ø—ã –∫—Å—Ç–∞</li> -->
    </ul>
</div>

<img width="500" class="h-[450px]" src="/me.jpg" />
</div>

---
title: Express
---

<SlideLogo framework="ExpressJS" title="–ü–ª—é—Å—ã –∏ –º–∏–Ω—É—Å—ã"/>

<p class="text-green">–ü–ª—é—Å—ã</p>

<v-clicks>

-   –ü—Ä–æ–≤–µ—Ä–µ–Ω –≤—Ä–µ–º–µ–Ω–µ–º
-   –ë–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞
-   –°—á–∏—Ç–∞–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º (–∫ —Å–æ–∂–∞–ª–µ–Ω–∏—é)
-   –ü–æ–ø—É–ª—è—Ä–µ–Ω (–º–Ω–æ–∂–µ—Å—Ç–≤–æ –≥–æ—Ç–æ–≤—ã—Ö —Ä–µ—à–µ–Ω–∏–π)

</v-clicks>

<p class="text-red">–ú–∏–Ω—É—Å—ã</p>

<v-clicks>

-   –ú–µ–¥–ª–µ–Ω–Ω—ã–π
-   Middleware
-   –ü–ª–æ—Ö–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
-   –ò–∑ –∫–æ—Ä–æ–±–∫–∏ –ø–æ—á—Ç–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –∏–º–µ–µ—Ç (–º–∏–∫—Ä–æ-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫)
-   –ù–∞–ø–∏—Å–∞–Ω –≤ —ç—Ä—É –º–∞–º–æ–Ω—Ç–æ–≤
-   –ö–æ—Å—Ç—ã–ª—å–Ω—ã–π
-   –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞–±–∏–ª–∏

</v-clicks>

<!--
–î–∞–≤–∞–π—Ç–µ –ø–µ—Ä–µ–π–¥—ë–º –∫ —Å—É—Ç–∏. –ù–∞—á–Ω—ë–º —Å —Ä–∞–∑–±–æ—Ä–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∏ —É—Å—Ç–æ—è–≤—à–∏—Ö—Å—è —Ä–µ—à–µ–Ω–∏–π —Ç–∞–∫–∏—Ö –∫–∞–∫ –Ω–∞–ø—Ä–∏–º–µ—Ä ExpressJS. –ù–∞—á–Ω—ë–º —Å –µ–≥–æ –ø–ª—é—Å–æ–≤

[Click] –ü—Ä–æ–≤–µ—Ä–µ–Ω –≤—Ä–µ–º–µ–Ω–µ–º. ExpressJS –±—ã–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –µ—â—ë –≤ –Ω–æ—è–±—Ä–µ 2010 –≥–æ–¥–∞ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–æ —Å–∏—Ö –ø–æ—Ä —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç —á—Ç–æ –ø—Ä–æ–≤–µ—Ä–∫—É –≤—Ä–µ–º–µ–Ω–µ–º –æ–Ω –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ –ø—Ä–æ—à—ë–ª
[Click] –ë–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞. –î—É–º–∞—é —á—Ç–æ –∫–∞–∂–¥—ã–π –∏–∑ –≤–∞—Å –∫—Ç–æ –∑–∞–Ω–∏–º–∞–ª—Å—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–æ–π —Å–µ—Ä–≤–µ—Ä–Ω–æ–π —á–∞—Å—Ç–∏ –≤–∏–¥–µ–ª —ç—Ç—É –≥–æ—Ä—É –º–∞—Ç–µ—Ä–∏–∞–ª–∞ –ø–æ —ç–∫—Å–ø—Ä–µ—Å—Å—É, –Ω–æ –∏ –∑–∞–º–µ—á–∞–ª —Å–∫–æ–ª—å–∫–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ —É–∂–µ –º–æ—Ä–∞–ª—å–Ω–æ —É—Å—Ç–∞—Ä–µ–ª–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–µ—à–µ–Ω–∏—è –Ω–∞ —Ç–æ–º –∂–µ Stack Overflow). (–ù–∞–ø–∏—Å–∞—Ç—å –ª—É—á—à–µ)
[Click] –°—á–∏—Ç–∞–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º (–∫ —Å–æ–∂–∞–ª–µ–Ω–∏—é). –≠–∫—Å–ø—Ä–µ—Å—Å —Å—á–∏—Ç–∞–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º –≤ –º–∏—Ä–µ Node.JS –∏ –æ—Ç –Ω–µ–≥–æ —Å–ª–æ–∂–Ω–æ —É–±–µ–∂–∞—Ç—å. –ö–∞–∂–¥—ã–π –Ω–æ–≤–∏—á–æ–∫ –Ω–∞—á–∏–Ω–∞–µ—Ç –∏–º–µ–Ω–Ω–æ —Å –Ω–µ–≥–æ, –æ–≥—Ä–æ–º–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–¥–∞–∫—à–Ω-—Ä–µ—à–µ–Ω–∏–π –¥–æ —Å–∏—Ö –ø–æ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ–≥–æ. –û–Ω –¥–∞–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –∞–¥–∞–ø—Ç–µ—Ä –¥–ª—è NestJS —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞, –∫–æ—Ç–æ—Ä—ã–π –º–Ω–æ–≥–∏–º –ø–æ–ª—é–±–∏–ª—Å—è.
[Click] –ü–æ–ø—É–ª—è—Ä–µ–Ω (–º–Ω–æ–∂–µ—Å—Ç–≤–æ –≥–æ—Ç–æ–≤—ã—Ö —Ä–µ—à–µ–Ω–∏–π). –Ø –¥—É–º–∞—é, —á—Ç–æ –¥–ª—è –Ω–∏–∫–æ–≥–æ –Ω–µ —Å–µ–∫—Ä–µ—Ç –Ω–∞—Å–∫–æ–ª—å–∫–æ –∂–µ —É Express'–∞ –±–æ–ª—å—à–∞—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞, –æ–≥—Ä–æ–º–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—É—Ç–æ—Ä–∏–∞–ª–æ–≤ –∏ –≥–æ—Ç–æ–≤—ã—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç–æ–∫.

**–ê —Ç–µ–ø–µ—Ä—å –ø–µ—Ä–µ–π–¥—ë–º –∫ –º–∏–Ω—É—Å–∞–º:**

[Click] –ú–µ–¥–ª–µ–Ω–Ω—ã–π. ExpressJS –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –º–Ω–æ–≥–æ–µ –¥–µ–ª–∞–µ—Ç –º–µ–¥–ª–µ–Ω–Ω–æ. –ù–∞–ø—Ä–∏–º–µ—Ä –ø—Ä–æ —Ä–∞–±–æ—Ç—É –µ–≥–æ —Ä–æ—É—Ç–∏–Ω–≥–∞ –º—ã –ø–æ–≥–æ–≤–æ—Ä–∏–º –Ω–∞ —Å–ª–µ–¥—É—é—â–∏—Ö —Å–ª–∞–π–¥–∞—Ö.
[Click] Middleware. –≠—Ç–æ –ø–∞—Ç—Ç–µ—Ä–Ω, –∫–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ—Ç–µ–∫–∞—é—Ç –ø–æ —Ü–µ–ø–æ—á–∫–µ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ —Ñ—É–Ω–∫—Ü–∏—é –∏ –º—É—Ç–∏—Ä—É—é—Ç—Å—è. –í —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º –º–∏—Ä–µ –Ω–∞ –µ–≥–æ –º–µ—Å—Ç–æ –≤—Å—Ç–∞–ª–∏ –•—É–∫–∏, –æ –∫–æ—Ç–æ—Ä—ã—Ö –º—ã –ø–æ–≥–æ–≤–æ—Ä–∏–º –ø–æ–∑–¥–Ω–µ–µ.
[Click] –ü–ª–æ—Ö–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è. ExpressJS –ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Å —Ç–∏–ø–∞–º–∏ –æ—Ç–¥–µ–ª—å–Ω–æ –∏ –æ–Ω–∏ –Ω–µ –∏–¥–µ–∞–ª—å–Ω–æ –æ–ø–∏—Å–∞–Ω—ã.
[Click] –ò–∑ –∫–æ—Ä–æ–±–∫–∏ –ø–æ—á—Ç–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –∏–º–µ–µ—Ç (–º–∏–∫—Ä–æ-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫). ExpressJS –ø–æ —Å–≤–æ–µ–π —Å—É—Ç–∏ —è–≤–ª—è–µ—Ç—Å—è –º–∏–∫—Ä–æ-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–º, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –º–µ–¥–ª–µ–Ω–Ω—ã–π —Ä–æ—É—Ç–∏–Ω–≥ –∏ Middlewares. –ö–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –¥–∞–∂–µ body-parser –ø—Ä–∏—Ö–æ–¥–∏–ª–æ—Å—å –∑–∞–≥—Ä—É–∂–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ.
[Click] –ù–∞–ø–∏—Å–∞–Ω –≤ —ç—Ä—É –º–∞–º–æ–Ω—Ç–æ–≤. –ö–∞–∫ –±—ã —ç—Ç–æ –Ω–µ –∑–≤—É—á–∞–ª–æ, –Ω–æ ExpressJS –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ —Å—Ç–∞—Ä—ã–π.
[Click] –ö–æ—Å—Ç—ã–ª—å–Ω—ã–π. –ü–æ—Å–ª–µ–¥–Ω–∏–π –º–∞–∂–æ—Ä –±—ã–ª –≤—ã–ø—É—â–µ–Ω –¥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è Promises —Ç–∞–∫ —á—Ç–æ —Ç–µ–ø–µ—Ä—å —á—Ç–æ–±—ã –æ—Ç–ª–æ–≤–∏—Ç—å –æ—à–∏–±–∫—É –±—Ä–æ—à–µ–Ω–Ω—É—é –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º Middleware –Ω–∞–º –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ö–∞–∫
[Click] –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞–±–∏–ª–∏. –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –±–æ–ª–µ–µ –Ω–µ –∑–∞–Ω–∏–º–∞—é—Ç—Å—è –∞–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–æ–π/–ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Express'–∞.
-->

---
layout: default
---

<SlideLogo framework="ExpressJS" title="–ú–µ–¥–ª–µ–Ω–Ω—ã–π"/>

<img class="mt-7" src="/benchmark.png"/>

<!--
–ö–∞—Å–∞—Ç–µ–ª—å–Ω–æ –µ–≥–æ –º–µ–¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏. –í–æ—Ç –º—ã –º–æ–∂–µ–º —É–≤–∏–¥–µ—Ç—å –±–µ–Ω—á–º–∞—Ä–∫ –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞—Å–∫–æ–ª—å–∫–æ express –Ω—ã–Ω–µ –Ω–µ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ-—Å–ø–æ—Å–æ–±–µ–Ω. **–ó–∞–±–∞–≤–Ω—ã–π —Ñ–∞–∫—Ç** - —Ä–∞–∑–¥–µ–ª –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ NestJS –ø—Ä–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Fastify –∞–¥–∞–ø—Ç–µ—Ä–∞ –≤–º–µ—Å—Ç–æ Express –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è ¬´**Performance (Fastify)**¬ª
-->

---
layout: default
---

<SlideLogo framework="ExpressJS" title="–ú–µ–¥–ª–µ–Ω–Ω—ã–π —Ä–æ—É—Ç–∏–Ω–≥"/>

<div class="flex items-center justify-around h-full">

<div class="flex flex-col justify-center items-center">
/some/:value 

<formkit-arrowdown class="text-4xl" />
<div>
<logos-npm-icon /> path-to-regexp
</div>
<formkit-arrowdown class="text-4xl" />

/^\/some\/(?:([^\/]+?))\/?$/i
</div>

<QRCode type="svg" data="https://forbeslindesay.github.io/express-route-tester/"
            :dotsOptions="{ type: 'extra-rounded', color: 'purple' }" :width="200"
            :height="200" />

</div>

<!--
TODO: –ø–µ—Ä–µ–¥–µ–ª–∞—Ç—å —Å–ª–∞–π–¥ –≤–∏–∑—É–∞–ª—å–Ω–æ.
–í —Ä–æ—É—Ç–∏–Ω–≥–µ Express'–∞ –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ö–∏—Ç—Ä—ã—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –ø–æ —Ç–∏–ø—É RadixTree, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –≤—Å—Ç—Ä–µ—Ç–∏—Ç—å —É –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤.
Express –∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É path-to-regexp –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –≤–∞—à —Ç–µ–∫—Å—Ç –≤ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ
-->

---
layout: default
---

<SlideLogo framework="ExpressJS" title="Middleware"/>



---

<SlideLogo framework="ExpressJS" title="Middleware"/>

<div class="flex">

```ts twoslash
declare module "express-serve-static-core" {
    interface Request {
        user: { name: "Yandex" };
    }
}
// ---cut---
import Express from "express";

const app = Express();

app.use((req, res, next) => {
    if (!req.header("authorization")) return res.send("No access");

    req.user = { name: "Yandex" };
    console.log("before handler");

    next();
});
app.use((req, res, next) => {
    // –ù–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ –º—É—Ç–∏—Ä—É–µ–º –µ—â—ë —á—Ç–æ-—Ç–æ
    next();
});
app.get("/", (req, res) => {
    res.send(`Hello, ${req.user.name}!`);
});
```
<div class="flex flex-col items-center justify-center ml-35">
Middleware (req, res, next)
<formkit-arrowdown class="text-4xl" />
Middleware (req, res, next)
<formkit-arrowdown class="text-4xl" />
Controller (req, res)
</div>

</div>

<!--
TODO: flow-chart req => req => req => send

–í–æ—Ç —Ç–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –ø—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã Middleware. –§—É–Ω–∫—Ü–∏–∏ –≤–∏–¥–∞ req, res, next. –ò —Å –ø–æ–º–æ—â—å—é next –º—ã –º–æ–∂–µ–º –ø–æ–π—Ç–∏ –≤ —Å–ª–µ–¥—É—é—â–∏–π Middleware –∏–ª–∏ —Å –ø–æ–º–æ—â—å—é return –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –µ–≥–æ –∑–¥–µ—Å—å.
-->

---
layout: default
---

<SlideLogo framework="ExpressJS" title="–ù–∞–ø–∏—Å–∞–Ω –≤ —ç—Ä—É –º–∞–º–æ–Ω—Ç–æ–≤ + –∫–æ—Å—Ç—ã–ª—å–Ω—ã–π"/>

```ts {1,2|all} twoslash
/** –ö–∞–∫–∞—è-—Ç–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –ø–æ –ø–æ–∏—Å–∫—É —é–∑–µ—Ä–∞ */
function findUser() {}
// ---cut---
import Express from "express";
import "express-async-errors";

const app = Express();

app.use(async (req, res) => {
    if (!req.header("authorization")) throw new Error("No access");

    await findUser();
});
// –î–∞-–¥–∞ –∫—Ä–∏–≤—ã–µ —Ç–∏–ø—ã —ç–∫—Å–ø—Ä–µ—Å—Å–∞ —Å –ø—Ä–∏–º–µ—Ä–æ–º –∏–∑ –¥–æ–∫–∏ - https://expressjs.com/en/guide/error-handling.html#error-handling
app.use((err, req, res, next) => {
    return res.status(400).json(err.message);
});
```

<!--
–ö–∞—Å–∞—Ç–µ–ª—å–Ω–æ –µ–≥–æ –∫–æ—Å—Ç—ã–ª—å–Ω–æ—Å—Ç–∏. –ú—ã –Ω–µ –º–æ–∂–µ–º –ø—Ä–æ—Å—Ç–æ –≤–∑—è—Ç—å –∏ –≤—ã–±—Ä–æ—Å–∏—Ç—å –æ—à–∏–±–∫—É –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ö–∞–∫–∞ / —Å–≤–æ–µ–π –æ–±—ë—Ä—Ç–∫–æ–π –Ω–∞–¥ middleware.

[Click] –ê –µ—â—ë –ø–∞—Ä–∞–º–µ—Ç—Ä—ã error-handler Middleware —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è **any**. –•–æ—Ç—è —ç—Ç–æ –µ—Å—Ç—å –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏...
-->

---
layout: full
---

<img src="/swagger-autogen.png"/>


---
layout: default
---

<SlideLogo framework="ExpressJS" title="–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞–±–∏–ª–∏"/>

-   4.18.3 (latest) - –ø–∞—Ä—É –Ω–µ–¥–µ–ª—å –Ω–∞–∑–∞–¥ (—Å–ø–æ–π–ª–µ—Ä - –∏—Å–ø—Ä–∞–≤–∏–ª–∏ 1 –±–∞–≥ –∑–∞ –≥–æ–¥)
-   4.18.2 - –≥–æ–¥ –Ω–∞–∑–∞–¥
-   4.18.1 - 2 –≥–æ–¥–∞ –Ω–∞–∑–∞–¥
-   4.18.0 - 2 –≥–æ–¥–∞ –Ω–∞–∑–∞–¥
-   4.17.3 - 2 –≥–æ–¥–∞ –Ω–∞–∑–∞–¥
-   5.0.0-beta.1 - 2 –≥–æ–¥–∞ –Ω–∞–∑–∞–¥
-   4.17.2 - 2 –≥–æ–¥–∞ –Ω–∞–∑–∞–¥
-   5.0.0-alpha.8 - 4 –≥–æ–¥–∞ –Ω–∞–∑–∞–¥
-   4.17.1 - 5 –ª–µ—Ç –Ω–∞–∑–∞–¥

...
-   4.0.0 - 04.09.2014
<!--
Express –ø–µ—Ä–µ—Å—Ç–∞–ª –∞–∫—Ç–∏–≤–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è. –ö–∞–∫ –Ω–∞–ø—Ä–∏–º–µ—Ä –ø–µ—Ä–≤–∞—è –±–µ—Ç–∞ 5.0.0 –≤—ã—à–ª–∞ 2 –≥–æ–¥–∞ –Ω–∞–∑–∞–¥. –ò —Å —Ç–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞ –Ω–µ –ø–æ–ª—É—á–∏–ª–∞ –Ω–∏–∫–∞–∫–∏—Ö –∫–æ–º–º–∏—Ç–æ–≤ –≤ –≤–µ—Ç–∫–µ –Ω–∞ –≥–∏—Ç—Ö–∞–±–µ. –•–æ—Ç—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤–æ –≤—Å—é –∫—Ä–∏—á–∏—Ç ¬´–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤–µ—Ä—Å–∏–∏ 5.0.0 —É–∂–µ –¥–æ—Å—Ç—É–ø–Ω–∞¬ª.
-->

---
layout: full
---

<img class="w-full" src="/hyper-express.png" width="500"/>

---
layout: default
title: Koa
---

<SlideLogo framework="KoaJS" title="–ü–ª—é—Å—ã –∏ –º–∏–Ω—É—Å—ã"/>

<p class="text-green">–ü–ª—é—Å—ã</p>

<v-clicks>

-   –ù–∞–ø–∏—Å–∞–Ω –∫–æ–º–∞–Ω–¥–æ–π ExpressJS
-   –ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –±—ã—Å—Ç—Ä–µ–µ ExpressJS
-   –ó–∞–∫—Ä—ã–≤–∞–µ—Ç –º–Ω–æ–≥–∏–µ –ø—Ä–æ–±–ª–µ–º—ã ExpressJS

</v-clicks>

<p class="text-red">–ú–∏–Ω—É—Å—ã</p>

<v-clicks>

-   Middleware
-   –ù–µ –∏–¥–µ–∞–ª —Ç–∏–ø–∏–∑–∞—Ü–∏–∏
-   –ü–ª–æ—Ö–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAPI
-   –ù–µ –æ—Å–æ–±–æ –ø–æ–ø—É–ª—è—Ä–µ–Ω

</v-clicks>

<!--
–¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ –ø–µ—Ä–µ–π–¥—ë–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Ñ—Ä–µ–π–º–≤–æ—Ä–∫—É. –ò–º –±—É–¥–µ—Ç **Koa**. 

**–ù–∞—á–Ω—ë–º —Å –ø–ª—é—Å–æ–≤:**

[Click] –ù–∞–ø–∏—Å–∞–Ω –∫–æ–º–∞–Ω–¥–æ–π ExpressJS. Koa –±—ã–ª –Ω–∞–ø–∏—Å–∞–Ω –∫–æ–º–∞–Ω–¥–æ–π, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–Ω–∏–º–∞–ª–∞—Å—å –∏ ExpressJS. –¢–∞–∫ —á—Ç–æ —ç—Ç–æ—Ç —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ –º–æ–∂–Ω–æ –Ω–∞–∑–≤–∞—Ç—å –ø–µ—Ä–µ—Ä–æ–∂–¥–µ–Ω–∏–µ–º Express'–∞
[Click] –ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –±—ã—Å—Ç—Ä–µ–µ ExpressJS. –í Koa –Ω–µ—Ç —Ç–∞–∫–∏—Ö –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º –∫–∞–∫ –≤ Express'–µ.

**–ê —Ç–µ–ø–µ—Ä—å –∫ –º–∏–Ω—É—Å–∞–º:**

[Click] Middleware. –¢–∞–∫ –∫–∞–∫ —ç—Ç–æ –±—É–∫–≤–∞–ª—å–Ω–æ –ø–µ—Ä–µ—Ä–æ–∂–¥–µ–Ω–∏–µ Express –ø–∞—Ç—Ç–µ—Ä–Ω Middleware –Ω–∏–∫—É–¥–∞ –Ω–µ –∏—Å—á–µ–∑.
[Click] –ü–ª–æ—Ö–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAPI. // TODO:
[Click] –ù–µ –æ—Å–æ–±–æ –ø–æ–ø—É–ª—è—Ä–µ–Ω. –ü—Ä–æ–ø–∞–≥–∞–Ω–¥–∏—Ä–æ–≤–∞–ª—Å—è –∫–∞–∫ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –Ω–æ–≤–æ–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª—è—è callback hell –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞–º–∏ // TODO: –¥–æ–ø–∏—Å–∞—Ç—å –¥–æ–¥—É–º–∞—Ç—å
-->

---

<SlideLogo framework="KoaJS" title="–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã"/>

```ts
var koa = require("koa");
var app = koa();

app.use(function *(next) {
    var start = new Date;
    yield next;
    var ms = new Date - start;
    console.log("%s %s - %s", this.method, this.url, ms);
});

app.use(function *(){
    this.body = "Hello world!";
});

app.listen(3000);
```

<!-- 
KoaJS –Ω–∞–∑—ã–≤–∞–ª—Å—è ¬´—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–º –Ω–æ–≤–æ–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è¬ª –∏ —Ä–µ—à–∞–ª –ø—Ä–æ–±–ª–µ–º—É callback hell –µ—â—ë –¥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è —Å–∞—Ö–∞—Ä–∞ –≤ –≤–∏–¥–µ async/await
–Ω–æ –ø–æ—Å–ª–µ –ø–æ—è–≤–ª–µ–Ω–∏—è –∏—Ö –ø–æ—è–≤–ª–µ–Ω–∏—è –ª—é–¥–∏ —Ç–∞–∫ –∏ –æ—Å—Ç–∞–ª–∏—Å—å –Ω–∞ express
-->

---
layout: default
title: Fastify
---

<SlideLogo framework="FastifyJS" title="–ü–ª—é—Å—ã –∏ –º–∏–Ω—É—Å—ã"/>

<p class="text-green">–ü–ª—é—Å—ã</p>

<v-clicks>

-   –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π
-   Life-cycle hooks
-   –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π
-   fast-json-stringify
-   –ü–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ JSON Schema –∏ AJV
-   –û—Ç–ª–∏—á–Ω—ã–π DX –∏ swagger –æ–¥–Ω–æ–π —Å—Ç—Ä–æ—á–∫–æ–π
-   express-compatibility plugin
-   –£–¥–æ–±–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

</v-clicks>
<p class="text-red">–ú–∏–Ω—É—Å—ã</p>
<v-clicks>

-   –ù–µ –∏–¥–µ–∞–ª —Ç–∏–ø–∏–∑–∞—Ü–∏–∏

</v-clicks>

<!--
–î–∞–≤–∞–π—Ç–µ –ø–æ–≥–æ–≤–æ—Ä–∏–º –æ FastifyJS. 

**–ù–∞—á–Ω—ë–º —Å –ø–ª—é—Å–æ–≤:**

[Click] –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π. –ü–µ—Ä–≤–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è Fastify –≤—ã—à–ª–∞ 6 –ª–µ—Ç –Ω–∞–∑–∞–¥ –∏ –Ω–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏ –≤—Å—ë –µ—â—ë –≤—ã—Ö–æ–¥—è—Ç. –í–æ—Ç-–≤–æ—Ç –∏ –≤—ã–π–¥–µ—Ç v5
[Click] –ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –±—ã—Å—Ç—Ä–µ–µ ExpressJS. –í Koa –Ω–µ—Ç —Ç–∞–∫–∏—Ö –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º –∫–∞–∫ –≤ Express'–µ.

**–ê —Ç–µ–ø–µ—Ä—å –∫ –º–∏–Ω—É—Å–∞–º:**

[Click] Middleware. –¢–∞–∫ –∫–∞–∫ —ç—Ç–æ –±—É–∫–≤–∞–ª—å–Ω–æ –ø–µ—Ä–µ—Ä–æ–∂–¥–µ–Ω–∏–µ Express –ø–∞—Ç—Ç–µ—Ä–Ω Middleware –Ω–∏–∫—É–¥–∞ –Ω–µ –∏—Å—á–µ–∑.
[Click] –ü–ª–æ—Ö–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAPI. // TODO:
[Click] –ù–µ –æ—Å–æ–±–æ –ø–æ–ø—É–ª—è—Ä–µ–Ω. –ú–Ω–æ–≥–∏–µ –Ω–µ –≤–∏–¥—è—Ç –≤ –Ω—ë–º –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ –ø–µ—Ä–µ–¥ Express // TODO: –¥–æ–ø–∏—Å–∞—Ç—å –¥–æ–¥—É–º–∞—Ç—å
-->


---
layout: default
---

<SlideLogo framework="FastifyJS" title="Life-cycle hooks"/>

<!-- Request => Routing => Logger => onRequest Hook => preParsing Hook => Parsing => preValidation Hook => Validation => preHandler Hook => User Handler => Reply => preSerialization Hook => onSend Hook => Response => onResponse Hook -->

<div class="flex">

```ts
fastify.post("/", (request, reply) => {
    // some logic
});

fastify.addHook('preParsing', async (request, reply, payload) => {
  await asyncMethod();

  return newPayload;
});
fastify.addHook('preHandler', async (request, reply) => {
  await asyncMethod();
});
fastify.addHook('onSend', async (request, reply, payload) => {
  const newPayload = payload.replace('some-text', 'some-new-text');

  return newPayload;
});
```

<div class="flex flex-col ml-35">

- onRequest
- preParsing
- preValidation
- preHandler
- preSerialization
- onError
- onSend
- onResponse
- onTimeout
- onRequestAbort
</div>
</div>

<!-- // TODO: flow chart -->

---
layout: default
---
<SlideLogo framework="FastifyJS" title="–í–∞–ª–∏–¥–∞—Ü–∏—è –∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è"/>

```ts twoslash
// @noErrors
import { TypeBoxValidatorCompiler, TypeBoxTypeProvider } from "@fastify/type-provider-typebox";
import { Type } from "@sinclair/typebox";
import Fastify from "fastify";

const fastify = Fastify().setValidatorCompiler(TypeBoxValidatorCompiler).withTypeProvider<TypeBoxTypeProvider>();

fastify.get(
  "/route",
  {
    schema: {
        querystring: Type.Object({
            foo: Type.Number(),
            fooBar: Type.String(),
        }),
    },
  },
  (request, reply) => {
    request.query.; // type safe!
    //       	    ^|
  },
);
```

<!-- 
–í Fastify –ø–æ–¥ –∫–æ—Ä–æ–±–∫–æ–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è AJV, –∫–æ—Ç–æ—Ä—ã–π –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—é. 
 -->

---
layout: default
---

<SlideLogo framework="FastifyJS" title="–ú–∏–≥—Ä–∞—Ü–∏—è —Å Express"/>

```ts twoslash
import fastifyExpress from "@fastify/express";
import Express from "express";
import Fastify from "fastify";

const fastify = Fastify();

await fastify.register(fastifyExpress);

const router = Express.Router();
fastify.use(router);

router.use((req, res, next) => {
    res.setHeader("x-custom", "fastify + express");
    next();
});

router.get("/hello", (req, res) => {
    res.status(201).json({ hello: "world" });
});

fastify.listen({ port: 3000 }, console.log);
```

<!-- –û—á–µ–Ω—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ, —á—Ç–æ —É Fastify –µ—Å—Ç—å –ø–ª–∞–≥–∏–Ω –∫–æ—Ç–æ—Ä—ã–π –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å express -->

<!-- ---

https://github.com/fastify/fastify/issues/5116 -->

---
layout: default
title: Elysia
---

<SlideLogo framework="ElysiaJS" title="–§–∏—á–∏"/>

<p class="text-green">–ü–ª—é—Å—ã</p>

<v-clicks>

- –£–º–Ω—ã–µ —Ç–∏–ø—ã
- e2e type-safety
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- WinterCG —Å–æ–≤–º–µ—Å—Ç–∏–º (Web API)
- Life-cycle hooks
- –¢–µ—Å–Ω–æ —Å–≤—è–∑–∞–Ω —Å swagger/OpenAPI
- JSX 
- Powered by Bun

</v-clicks>
<p class="text-red">–ú–∏–Ω—É—Å—ã</p>
<v-clicks>

- Powered by Bun
- –ú–æ–ª–æ–¥–æ–π

</v-clicks>

<!-- 
–†–∞—Å—Å–∫–∞–∑–∞—Ç—å –æ –±–µ–Ω—á–º–∞—Ä–∫–µ fast-json-stringify –≤ –±–∞–Ω–µ

**–ò–∑ –ø–ª—é—Å–æ–≤:**

[Click] –£–º–Ω—ã–µ —Ç–∏–ø—ã. Elysia —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Ç–∞–∫ —á—Ç–æ–±—ã –≤–∞–º –ø—Ä–∏—Ö–æ–¥–∏–ª–æ—Å—å –ø–∏—Å–∞—Ç—å –º–µ–Ω—å—à–µ —Ç–∏–ø–æ–≤.
[Click] e2e type-safety. Elysia –¥–∞—ë—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–∏–ø—ã –±–µ–∫–µ–Ω–¥–∞ –≤ –º–æ–Ω–æ—Ä–µ–ø–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–ª–∏–µ–Ω—Ç–µ.
[Click] –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å. Elysia –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–∞ –±–ª–∞–≥–æ–¥–∞—Ä—è Static Code Analysis, and Dynamic Code Injection // TODO: –ø–æ–∫–æ–ø–∞—Ç—å—Å—è –∏ –¥–æ–±–∞–≤–∏—Ç—å —á—Ç–æ typebox —Ç–∞–∫–æ–π –∂–µ
[Click] WinterCG. –ü–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ Web API —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞—Ö.
[Click] Life-cycle hooks. –£–¥–æ–±–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –∑–∞–ø—Ä–æ—Å–∞.
[Click] OpenAPI. Elysia –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤–∞–ª–∏–¥–∞—Ç–æ—Ä TypeBox, –∫–æ—Ç–æ—Ä—ã–π –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ö–æ—Ä–æ—à—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å OpenAPI.
[Click] JSX. –ò–º–µ–µ—Ç –ø–ª–∞–≥–∏–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å JSX
[Click] Powered by Bun. Bun –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ—Ç–ª–∏—á–Ω—ã–π DX –∏ perfomance –Ω–æ –æ–Ω –µ—â—ë –Ω–µ —Ç–∞–∫–æ–π —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –∫–∞–∫ —Ö–æ—Ç–µ–ª–æ—Å—å –±—ã —á—Ç–æ –º–æ–∂–Ω–æ —Ç–∞–∫ –∂–µ –æ—Ç–Ω–µ—Å—Ç–∏ –∏ –∫ –º–∏–Ω—É—Å—É


-->

<!-- <img src="/feature-sheet.webp"/> -->

---
layout: default
---

<SlideLogo framework="ElysiaJS" title="–ë—ã—Å—Ç—Ä—ã–π"/>

// TODO: –ó–¥–µ—Å—å —Å—Ç–æ–∏—Ç —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å –æ Powered by Bun Static code generation+TypeBox and etc

---
layout: default
---

<SlideLogo framework="ElysiaJS" title="–í–∞–ª–∏–¥–∞—Ü–∏—è"/>

```ts twoslash
import { Elysia, t } from "elysia";

new Elysia().post(
    "/yandex/question",
    ({ body }) => ({ message: "Question created!" }),
    // ^?
    //
    //
    //
    //
    {
        body: t.Object({
            presenter: t.TemplateLiteral("{–î–æ–∫–ª–∞–¥ 1|–î–æ–∫–ª–∞–¥ 2}"),
            text: t.String(),
        }),
        response: t.Object({
            message: t.String(),
        }),
    },
);
```

<!-- –í–∞–ª–∏–¥–∞—Ü–∏—è –∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∏–∑ —Å–µ–±—è typebox c —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ -->

---

<SlideLogo framework="ElysiaJS" title="OpenAPI / Swagger"/>

<!-- prettier-ignore -->
```ts twoslash
// @filename: routes.ts
import { Elysia } from "elysia";

export const feed = new Elysia();
export const users = new Elysia();
// @filename: index.ts
// ---cut---
import { swagger } from "@elysiajs/swagger";
import { Elysia, t } from "elysia";
import { feed, users } from "./routes";

new Elysia()
	.use(swagger())
	.use(feed)
	.use(users)
	.listen(3000);
```

---
layout: full
---

<img src="/scalar-dark-mode.webp" />

---

<SlideLogo framework="ElysiaJS" title="e2e type-safety | –ª—É—á—à–µ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å"/>

```ts twoslash
import { Elysia, t } from "elysia";

const app = new Elysia()
    .post("/yandex/employee", () => {}, {
        body: t.Object({
            name: t.String(),
            stack: t.Array(t.TemplateLiteral("{Elysia|React|Effector}")),
        }),
    })
    .listen(1997);

export type App = typeof app;
```

```ts twoslash
// @filename: server.ts
import { Elysia, t } from "elysia";

const app = new Elysia()
    .post("/yandex/employee", () => {}, {
        body: t.Object({
            name: t.String(),
            stack: t.Array(t.TemplateLiteral("{Elysia|React|Effector}")),
        }),
    })
    .listen(1997);

export type App = typeof app;
// @filename: index.ts
// ---cut---
import { treaty } from "@elysiajs/eden";
import type { App } from "./server";

const eden = treaty<App>("http://localhost:1997");

await eden.yandex.employee.post({
    name: "–í—Å–µ–≤–æ–ª–æ–¥",
    stack: ["Elysia", "Svelte"],
});
```

---
layout: full
---

<img class="w-full" src="/WinterCG.png"/>

---

<SlideLogo framework="ElysiaJS" title="WinterCG"/>

```ts twoslash
import { Elysia } from "elysia";
import { Hono } from "hono";
// ---cut---
const elysia = new Elysia()
    .get(
        "/",
        "Hello from Elysia inside Hono inside Elysia",
    );

const hono = new Hono()
    .get("/", (c) => c.text("Hello from Hono!"))
    .mount("/elysia", elysia.fetch);

const main = new Elysia()
    .get("/", () => "Hello from Elysia")
    .mount("/hono", hono.fetch)
    .listen(3000);
```

---

<SlideLogo framework="ElysiaJS" title="Context"/>

```ts twoslash
import { Elysia, t } from "elysia";

const app = new Elysia();
// ---cut---
app.get(
    "/:type",
    ({ query: { pageSize }, params: { type }, set }) => {
        set.status = "I'm a teapot";
        set.headers["Content-Type"] = "application/x-teapot";

        return "ok";
    },
    {
        query: t.Object({
            pageSize: t.Numeric(),
        }),
    },
);
```

---

<SlideLogo framework="ElysiaJS" title="State & Decorate"/>

```ts twoslash
import { Elysia, t } from "elysia";

const app = new Elysia();
// ---cut---
app
    .state("requests", 1)
    .get("/increment", ({ store }) => ++store.requests);
```

<br/>

```ts twoslash
import { Elysia, t } from "elysia";

const app = new Elysia();
class Logger {
    log(text: string) {}
}
// ---cut---
app
    .decorate("logger", new Logger())
    .get("/", ({ logger }) => {
        logger.log("hi");

        return "hi";
    });
```

---

<SlideLogo framework="ElysiaJS" title="Derive"/>

```ts twoslash
import { Elysia, t } from "elysia";

const app = new Elysia();
// ---cut---
app
    .derive(({ headers }) => {
        const auth = headers.Authorization;

        return {
            bearer: auth?.startsWith("Bearer ") ? auth.slice(7) : null,
        };
    })
    .get("/", ({ bearer }) => bearer);
```

---

<SlideLogo framework="ElysiaJS" title="Affix"/>

<!-- prettier-ignore -->
```ts twoslash
import { Elysia } from "elysia";

// ---cut---
const setup = new Elysia({ name: "setup" })
            .decorate({
                argon: "a",
                boron: "b",
                carbon: "c",
            });

const app = new Elysia()
    .use(setup.prefix("decorator", "setup"))
    .get("/", ({ setupCarbon }) => setupCarbon);
//                                  ^?

```

---

<SlideLogo framework="ElysiaJS" title="Elysia plugin"/>

<div class="flex justify-between">
<div/>
<img class="-mt-20 -mr-10 scale-90" width="500" src="/new-elysia-twitter.png" /> 

</div>
---

<SlideLogo framework="ElysiaJS" title="Elysia plugin"/>

```ts twoslash
import { Elysia } from "elysia";

const app = new Elysia();

class YandexController {
    createEvent(name: string) {}
}
// ---cut---
const plugin = new Elysia()
    .decorate("yandex", new YandexController())
    .get("/", () => "Hello, Yandex!");

app.use(plugin)
    .post("/event", ({ yandex }) => yandex.createEvent("–Ø üíõ –§—Ä–æ–Ω—Ç–µ–Ω–¥"))
    .listen(3000);
```

---
layout: full
---

<img src="/lifecycle.webp" />

---

<SlideLogo framework="ElysiaJS" title="Life-cycle"/>

```ts twoslash
import { isHtml } from "@elysiajs/html";
import { Elysia } from "elysia";

// ---cut---
new Elysia()
    .get("/none", () => "<h1>Hello World</h1>")
    .onAfterHandle(({ response, set }) => {
        if (isHtml(response))
            set.headers["Content-Type"] = "text/html; charset=utf8";
    })
    .get("/", () => "<h1>Hello World</h1>")
    .get("/hi", () => "<h1>Hello World</h1>")
    .listen(3000);
```

---

<SlideLogo framework="ElysiaJS" title="Guard"/>

```ts twoslash
import { Elysia, t } from "elysia";

const signIn = (body: any) => "";
const signUp = (body: any) => "";
// ---cut---
new Elysia().guard(
    {
        body: t.Object({
            username: t.String(),
            password: t.String(),
        }),
    },
    (app) =>
        app
            .post("/sign-up", ({ body }) => signUp(body))
            .post("/sign-in", ({ body }) => signIn(body)),
);
```

---

<SlideLogo framework="ElysiaJS" title="Scoped –ø–ª–∞–≥–∏–Ω—ã"/>

```ts twoslash
import { isHtml } from "@elysiajs/html";
import { Elysia } from "elysia";

// ---cut---
const html = new Elysia({ scoped: true })
    .onAfterHandle(({ set, response }) => {
        if (isHtml(response))
            set.headers["Content-Type"] = "text/html; charset=utf8";
    })
    .get("/inner", () => "<h1>Hello World</h1>");

new Elysia()
    .get("/", () => "<h1>Hello World</h1>")
    .use(html)
    .get("/outer", () => "<h1>Hello World</h1>")
    .listen(3000);
```

---

<SlideLogo framework="ElysiaJS" title="–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤"/>

```ts twoslash
import { Elysia, t } from "elysia";

// ---cut---
new Elysia().post(
    "/upload/avatar",
    async ({ body: { avatar } }) => {
        await Bun.write(`${process.cwd()}/${avatar.name}`, avatar);
    },
    {
        body: t.Object({
            description: t.String(),
            avatar: t.File({
                type: "image/png",
                maxSize: "5m",
            }),
        }),
    },
);
```

---

<SlideLogo framework="ElysiaJS" title="Error handling"/>

```ts twoslash
import { Elysia } from "elysia";

// ---cut---
class APIError extends Error {
    constructor(public typeSafeCode: "UNAUTHORIZED" | "SOME_REASON") {
        super();
        this.message = "An Error occurred";
    }
}

new Elysia()
    .error({
        APIError,
    })
    .onError(({ code, error }) => {
        if (code === "APIError") {
            console.error(error.typeSafeCode);
            //                      ^?
        }
    })
    .get("/teapot", () => {
        throw new APIError("SOME_REASON");
    });
```

---

<SlideLogo framework="ElysiaJS" title="Cookie"/>

```ts twoslash
import { Elysia, t } from "elysia";

const app = new Elysia();
// ---cut---
app.get(
    "/",
    ({ cookie: { user } }) => {
        user.value = {
            id: 1,
            company: "Yandex",
            name: "Summoning 101",
        };
    },
    {
        cookie: t.Cookie({
            user: t.Object({
                id: t.Numeric(),
                company: t.TemplateLiteral("{Yandex|Elytrium}"),
                name: t.String(),
            }),
        }),
    },
);
```

---

<SlideLogo framework="ElysiaJS" title="WebSocket"/>

```ts twoslash
import { Elysia, t } from "elysia";

// ---cut---
new Elysia()
    .ws("/ws", {
        body: t.Object({
            message: t.String(),
        }),
        message(ws, { message }) {
            ws.send({
                message,
                time: Date.now(),
            });
        },
    })
    .listen(8080);
```

---

<SlideLogo framework="ElysiaJS" title="Tests with eden"/>

```ts twoslash
import { treaty } from "@elysiajs/eden";
import { Elysia } from "elysia";
import { describe, it, expect } from "bun:test";

// ---cut---
const app = new Elysia().get("/", () => "hi").listen(3000);

const api = treaty<typeof app>(app);

describe("Elysia", () => {
    it("return a response", async () => {
        const { data } = await api.index.get();

        expect(data).toBe("hi");
    });
});
```

---

<SlideLogo framework="ElysiaJS" title="Macro"/>

```ts twoslash
import { Elysia } from "elysia";

// ---cut---
const plugin = new Elysia({ name: "plugin" }).macro(({ onBeforeHandle }) => {
    return {
        hi(word: string) {
            onBeforeHandle(() => {
                console.log(word);
            });
        },
    };
});

new Elysia()
    .use(plugin)
    .get("/", () => "hi", {
        hi: "Elysia",
    });
```

---

<SlideLogo framework="ElysiaJS" title="Websocket e2e type-safety"/>

```ts twoslash
import { Elysia, t } from "elysia";

// ---cut---
const app = new Elysia()
    .ws("/chat", {
        message(ws, message) {
            ws.send(message);
        },
        body: t.String(),
        response: t.String(),
    })
    .listen(8080);

export type App = typeof app;
```

<br/>

```ts twoslash
import { treaty } from "@elysiajs/eden";
import { Elysia, t } from "elysia";

const app = new Elysia()
    .ws("/chat", {
        message(ws, message) {
            ws.send(message);
        },
        body: t.String(),
        response: t.String(),
    })
    .listen(8080);

export type App = typeof app;

// ---cut---
const client = treaty<App>("http://localhost:8080");

const chat = client.chat.subscribe();

chat.subscribe((message) => {
    console.log("got", message);
});

chat.send("hello from client");
```

---

<SlideLogo framework="ElysiaJS" title="Model"/>

```ts twoslash
import { Elysia, t } from "elysia";

// ---cut---
new Elysia()
    .model({
        sign: t.Object({
            username: t.String(),
            password: t.String(),
        }),
    })
    .post(
        "/sign-in",
        ({ body }) => body,
        //            ^?
        //
        //
        //
        //
        {
            body: "sign",
            response: "sign",
        },
    );
```

---

<SlideLogo framework="ElysiaJS" title="JSX/HTML"/>

```tsx twoslash
// @jsx: react
// @jsxFactory: Html.createElement
// @jsxFragmentFactory: Html.Fragment
// ---cut---
import { Elysia } from 'elysia'
import { html } from '@elysiajs/html' 

new Elysia()
    .use(html()) 
    .get('/', () => (
        <html lang="en">
            <head>
                <title>Hello World</title>
            </head>
            <body>
                <h1>Hello World</h1>
            </body>
        </html>
    ))
```

<!-- 
Elysia –∏–º–µ–µ—Ç –ø–ª–∞–≥–∏–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã c HTML/JSX. –û–Ω —Ç–∞–∫ –∂–µ –≤–∞–º –ø–æ–∑–≤–æ–ª–∏—Ç –∑–∞—â–∏—â–∞—Ç—å—Å—è –æ—Ç xss –∞—Ç–∞–∫ 
 -->

---

<div class="flex items-center justify-center h-full text-5xl">

–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–Ω–∏–º–∞–Ω–∏–µ! ‚ú®

</div>

---

<QRCodesSlide/>